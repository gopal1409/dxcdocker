########how to create roles#########
 192  mkdir roles
  193  cd roles
  194  ansible-galaxy init apache
  195  apt install tree
  196  tree apache
  ######creating some role#####
  201  touch apache/tasks/install.yml
  202  touch apache/tasks/configure.yml
  203  touch apache/tasks/service.yml
  204  nano apache/tasks/install.yml
  #######inside install.yml
  ---
  - name: install apache2
    apt: name=apache2 state=latest
####lets configure the role##3
root@ansiblemaster:~/roles# cat apache/tasks/configure.yml
---
- name: copy index.html
  copy: src=files/index.html dest=/var/www/html/index.html
nano apache/files/index.html
root@ansiblemaster:~/roles# cat apache/files/index.html
this is the role we have created using ansible
#######service for role
nano apache/tasks/service.yml
root@ansiblemaster:~/roles# cat apache/tasks/service.yml
---
- name: start and enable httpd
  service: name=apache2 state=restarted enabled=yes
  #########Role execution
   220  nano apacheweb.yml
   root@ansiblemaster:~/roles# cat apacheweb.yml
---
- hosts: client
  roles:
  - apache
#####excute the role
222  ansible-playbook apacheweb.yml
#####configuring main.yml in task
nano apache/tasks/main.yml
root@ansiblemaster:~/roles# cat apache/tasks/main.yml
---
# tasks file for apache
- import_tasks: install.yml
- import_tasks: configure.yml
- import_tasks: service.yml

  

